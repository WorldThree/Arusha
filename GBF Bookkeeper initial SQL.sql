-- MySQL Script generated by MySQL Workbench
-- Fri Nov 30 00:10:40 2018
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';
-- -----------------------------------------------------
-- Table `Days`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Days` ;

CREATE TABLE IF NOT EXISTS `Days` (
  `Day_Num` INT NOT NULL COMMENT 'Days of GW. 1,2,3,4. The 5th day is unique and no longer has a score, and prelims are a different thing. ',
  PRIMARY KEY (`Day_Num`),
  UNIQUE INDEX `Days_UNIQUE` (`Day_Num` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Teams`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Teams` ;

CREATE TABLE IF NOT EXISTS `Teams` (
  `Team_Name` VARCHAR(45) NOT NULL COMMENT 'North, South, Easy, West. These 4 only',
  PRIMARY KEY (`Team_Name`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Element`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Element` ;

CREATE TABLE IF NOT EXISTS `Element` (
  `Element_Type` VARCHAR(10) NOT NULL COMMENT 'Fire, Water, Earth, Wind, Light, and Dark are only elements. ',
  PRIMARY KEY (`Element_Type`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GW_Number`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GW_Number` ;

CREATE TABLE IF NOT EXISTS `GW_Number` (
  `GW_ID` INT NOT NULL COMMENT 'Number of GW, will go 1-50 i guess as a precaution. ',
  PRIMARY KEY (`GW_ID`),
  UNIQUE INDEX `GW_ID_UNIQUE` (`GW_ID` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Scores`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Scores` ;

CREATE TABLE IF NOT EXISTS `Scores` (
  `Scores_Score` BIGINT NOT NULL,
  `Day_Number` INT NOT NULL,
  `Team_Name` VARCHAR(45) NOT NULL,
  `Element_Type` VARCHAR(10) NOT NULL,
  `GW_Number` INT NOT NULL,
  `Time` DATETIME NULL,
  PRIMARY KEY (`Day_Number`, `Team_Name`, `Element_Type`, `GW_Number`, `Scores_Score`),
  INDEX `fk_Scores_Day_Number1_idx` (`Day_Number` ASC),
  INDEX `fk_Scores_Teams1_idx` (`Team_Name` ASC),
  INDEX `fk_Scores_Element1_idx` (`Element_Type` ASC),
  INDEX `fk_Scores_GW Number1_idx` (`GW_Number` ASC),
  CONSTRAINT `fk_Scores_Day_Number1`
    FOREIGN KEY (`Day_Number`)
    REFERENCES `Days` (`Day_Num`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Scores_Teams1`
    FOREIGN KEY (`Team_Name`)
    REFERENCES `Teams` (`Team_Name`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Scores_Element1`
    FOREIGN KEY (`Element_Type`)
    REFERENCES `Element` (`Element_Type`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Scores_GW Number1`
    FOREIGN KEY (`GW_Number`)
    REFERENCES `GW_Number` (`GW_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;



-- -----------------------------------------------------
-- Insert Statements 
-- -----------------------------------------------------

-- Inserting into table Days
INSERT INTO Days VALUES (0),(1),(2),(3),(4),(5);

-- Inserting into Teams
INSERT INTO Teams VALUES ("North"),("South"),("East"),("West"),("A"),("B"),("C");

-- Inserting into Elements
INSERT INTO Element VALUES ("Fire"),("Water"),("Earth"),("Wind"),("Light"),("Dark"),("Null");

-- Inserting into GW_Number 
INSERT INTO GW_Number VALUES (38),(39),(40),(41),(42),(43);

-- Inserting into Scores
INSERT INTO	Scores VALUES	(0, 1, "North", "Fire",40,'2018-11-18 17:00:00'),
		(0, 1, "West", "Fire",40,'2018-11-18 17:00:00'),
		(0, 1, "East", "Fire",40,'2018-11-18 17:00:00'),
		(0, 1, "South", "Fire",40,'2018-11-18 17:00:00'),
		
		(34079276451, 1, "North", "Fire",40,'2018-11-18 17:20:00'),
		(32525233826, 1, "West", "Fire",40,'2018-11-18 17:20:00'),
		(33961955799, 1, "East", "Fire",40,'2018-11-18 17:20:00'),
		(34154330928, 1, "South", "Fire",40,'2018-11-18 17:20:00'),
		
		(67942561030, 1, "North", "Fire",40,'2018-11-18 17:40:00'),
		(64849410298, 1, "West", "Fire",40,'2018-11-18 17:40:00'),
		(67460142131, 1, "East", "Fire",40,'2018-11-18 17:40:00'),
		(68048982855, 1, "South", "Fire",40,'2018-11-18 17:40:00'),
		
		(98753982957, 1, "North", "Fire",40,'2018-11-18 18:00:00'),
		(94406694288, 1, "West", "Fire",40,'2018-11-18 18:00:00'),
		(97798651598, 1, "East", "Fire",40,'2018-11-18 18:00:00'),
		(98792522556, 1, "South", "Fire",40,'2018-11-18 18:00:00'),
		
		(122531373336, 1, "North", "Fire",40,'2018-11-18 18:20:00'),
		(117597214136, 1, "West", "Fire",40,'2018-11-18 18:20:00'),
		(121287560284, 1, "East", "Fire",40,'2018-11-18 18:20:00'),
		(122837641398, 1, "South", "Fire",40,'2018-11-18 18:20:00'),
		
		(143112779610, 1, "North", "Fire",40,'2018-11-18 18:40:00'),
		(137870387569, 1, "West", "Fire",40,'2018-11-18 18:40:00'),
		(141704430597, 1, "East", "Fire",40,'2018-11-18 18:40:00'),
		(143850960506, 1, "South", "Fire",40,'2018-11-18 18:40:00'),
		
		(161023236721, 1, "North", "Fire",40,'2018-11-18 19:00:0'),
		(155573252065, 1, "West", "Fire",40,'2018-11-18 19:00:0'),
		(159458644481, 1, "East", "Fire",40,'2018-11-18 19:00:0'),
		(162074063561, 1, "South", "Fire",40,'2018-11-18 19:00:0');
		
-- Inserting into prelims on another GW 
INSERT INTO	Scores VALUES		(266470887, 0, "A", "Fire",41,'2018-11-18 18:00:00'),
		(52636439, 0, "B", "Fire",41,'2018-11-18 18:00:00'),
		(18826881, 0, "C", "Fire",41,'2018-11-18 18:00:00');